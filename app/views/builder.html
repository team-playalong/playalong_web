<form name="builder" novalidate
      translate-namespace="builder">
  
  <md-content class="md-padding md-whiteframe-z4 builder">
    <div class="ply-overlay" ng-if="!login.isSuperUser()"
      translate-namespace=".invite">
      <div class="jumbotron ply-transparent text-center ply-white">
        <h1 translate=".TITLE"></h1>  
        <br/><br/>
        <h1 class="ply-white">
          <span translate=".CONTACT_US"></span>
          <a href="mailto:contact@playalong.io?subject=I Wanna Be a SuperUser!" target="_blank" translate=".HERE"></a>
        </h1>

        <h3 translate=".SUPERUSER"></h3>
      </div>
      

    </div>  
    <div layout="row">
      <md-input-container flex>
        <label translate=".ARTIST">Artist</label>
        <input required name="artist" ng-model="chord.artist" auto-direction />
      </md-input-container>
      <span flex="10"></span>
      <md-input-container flex>
        <label translate=".TITLE"></label>
        <input required ng-model="chord.title" auto-direction />
      </md-input-container>
    </div>

    <div layout="row" layout-wrap>
      <div flex="50">

        <md-switch class="ply-switch" ng-model="isPreviewMode" aria-label="Switch 1" ng-change="handleSwitchModes()">
          {{'builder.PREVIEW' | translate}}
        </md-switch>
          <md-switch class="ply-switch" 
              ng-model="chord.approved" 
              aria-label="Approved" 
              ng-if="login.isSuperUser()" ng-change="handleApproveChange()">
              {{'builder.APPROVED' | translate}}
            </md-switch>
      </div>
      <div  flex="50"
            layout="row" layout-align="end center">
        <md-button  class="md-raised md-accent"
          type="submit"
          ng-click="createChordInDb()"
          ng-if="!$stateParams.id && !chordCreated"
          translate=".CREATE"
          aria-label="Create">
        </md-button>
        <md-button  class="md-primary md-hue-1"
          ng-if="$stateParams.id || chordCreated"
          ng-click="goToChordPage(chord)"
          translate=".GO_TO_CHORD">
        </md-button>
      </div>
    </div>
    <div layout="row" class="ply-editor-wrapper">
      <text-angular auto-direction ng-show="!isPreviewMode" class="ply-editor"  flex ng-model="chord.content"></text-angular>
      <div  ng-show="isPreviewMode" flex class="ply-chord-preview"
            ng-bind-html="chord.content"></div>
    </div>
    <div layout="row" layout-wrap>
      <div flex="50">
        <md-switch class="ply-switch" ng-model="isPreviewMode" aria-label="Switch 1" ng-change="handleSwitchModes()">
          {{'builder.PREVIEW' | translate}}
        </md-switch>
    </div>
  </md-content>
</form>
