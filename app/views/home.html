<md-content class="md-padding" id="home">
    <md-card layout-align="center">
      <md-card-content>

        <h2 class="md-title">Search For...</h2>
        <form name="chordSearchForm" class="ply-search-form" novalidate>
          <div layout="row" layout-wrap>
              <div flex="10">
                <md-input-container>
                  <md-select class="ply-search-form-select" placeholder="..." ng-model="searchConfig.searchBy">
                    <md-option ng-repeat="curr in searchByOptions" value="{{curr.value}}">{{curr.label}}</md-option>
                  </md-select>
                </md-input-container>
                
              </div>
              <div flex="60">
                <md-input-container>
                  <input md-maxlength="50" placeholder="Search Text..." required name="searchInput" ng-model="searchConfig.searchInput">
                  <!-- TODO - Hide required message before submit -->
                  <div ng-messages="chordSearchForm.searchInput.$error">
                    <!-- TODO - Messages from texts object -->
                    <div ng-if="chordSearchForm.searchInput.$dirty && chordSearchForm.searchInput.$invalid && chordSearchForm.searchInput.$error" ng-message="required">This is required.</div>
                  </div>
                </md-input-container>
              </div>
              <div flex="20">
                <md-button class="md-raised md-accent" type="submit" ng-click="searchChords()">Go</md-button>
              </div>
          </div>
          <div layout="row">
            <div flex>
              <md-button class="md-primary md-hue-1" ui-sref="topChords">Top Chords</md-button>
            </div>
          </div>
        </form>      
      </md-card-content>
    </md-card>
    <!-- search results -->
    <md-card layout-align="center" ng-if="searchResults && searchResults.length" class="ply-search-results">
      <md-card-content>

        <h4 class="md-title" layout-align="left">You Have {{searchResults.length}} {{searchResults.length > 1 ? 'Results' : 'Result'}}</h4>
        <md-list>
          <md-list-item class="md-2-line clickable"  ng-repeat="result in searchResults track by $index" >
            <img ng-src="{{result.imagePath}}" class="md-avatar" ng-if="result.imagePath" />
            <div class="md-list-item-text" ng-click="goToChordPage(result)"> 
              <h3> {{ result.artist }} </h3>
              <p> {{ result.title }} </p>

              <!-- http://codepen.io/TepigMC/pen/FIdHb -->
              <star-rating class="non-clickable" ng-model="result.rating" readonly="true"></star-rating>
            </div>
            <md-divider ></md-divider>
          </md-list-item>
          
      </md-card-content>
    </md-card>
</md-content>